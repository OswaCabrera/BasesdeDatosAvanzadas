whenever sqlerror exit rollback
create or replace procedure spv_clean wrapped 
a000000
369
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
7
201 124
M+qFM5FGPPhPygfWDRPzjNoTuIIwg/BQ7Ujhfy82j3d6Atpn8jXOvcrlABK7S+FhMQ1kpOnM
e0Zm6QY6N2aeROa5wQWIefERMZQ4TvjH1LEI+E4h8haX0xFy6EktuvEptDAq1kDaLDnUEfzu
FBuRJ596q4v6/YlcEHS4id7OkqrgNELn6LiHtgGYATfwa4FMAuxVJhjOdiOkcrl73JLFLd1r
uO4YXdojlr5QyzxtYiLqdWyDFmihVq+oVSJko68rEbUlyhIe2Gf2IZEkQZ9SuBOcmYee8Fs=


/
show errors
create or replace procedure spv_check_tables wrapped 
a000000
369
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
7
1a64 849
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
26/z

/
show errors
Prompt conectando como sys para iniciar Validación
connect sys/&&p_sys_password as sysdba
Prompt Realizando limpieza..
exec spv_clean('&&p_username');
Prompt invocando script s-01-config-compartido.sql
start s-01-config-compartido.sql
Prompt invocando script s-02-conexiones.sql
start s-02-conexiones.sql
Prompt invocando script s-03-consultas.sql
start s-03-consultas.sql
Prompt invocando script s-04-resident-conn-pool.sql
start s-04-resident-conn-pool.sql
Prompt invocando script s-05-procesos.sql
start s-05-procesos.sql
set serveroutput on
set linesize window
exec spv_print_header
host sha256sum &&p_script_validador
exec spv_check_tables('&&p_username')
define suffix='_shared'
exec spv_print_ok('Probando modo compartido @&&p_instance_name&&suffix');
connect sys/&&p_sys_password@&&p_instance_name&&suffix as sysdba
set serveroutput on 
exec spv_print_ok('Test modo conpartido @&&p_instance_name&&suffix');
define suffix='_dedicated'
exec spv_print_ok('Probando modo conpartido @&&p_instance_name&&suffix');
connect sys/&&p_sys_password@&&p_instance_name&&suffix as sysdba
set serveroutput on
exec spv_print_ok('Test modo conpartido @&&p_instance_name&&suffix');
define suffix='_pooled'
exec spv_print_ok('Probando modo conpartido @&&p_instance_name&&suffix');
connect sys/&&p_sys_password@&&p_instance_name&&suffix as sysdba
set serveroutput on
exec spv_print_ok('Test modo pooled @&&p_instance_name&&suffix');
start s-06-reset-pool.sql
set serveroutput on
exec spv_print_ok('Reset de pool de conexiones correcta');
exec spv_print_ok('Validación concluida');
exit